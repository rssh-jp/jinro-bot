'use strict';

let EventEmitter = require('events').EventEmitter;

let SlackBot = require('slackbots');

class Global extends EventEmitter{
    constructor(params) {
        super(params);

        this.nice = 0;
        this.humanBot = null;
        this.wolfBot  = null;
    }
};
Global.prototype.createBot = function(humanToken, wolfToken){
    this.humanBot = createBot(humanToken);
    this.wolfBot = createBot(wolfToken);
};
Global.prototype.getHumanBot = function(){return this.humanBot;};
Global.prototype.getWolfBot  = function(){return this.wolfBot ;};

let createBot = function(token){
    return new SlackBot({
        token : token,
    });
};

let instance = null;
let getInstance = exports.getInstance = function(){
    if(instance === null){
        instance = new Global();
    }
    return instance;
};

